#!/bin/bash
# ç®€æ´çš„è®°å¿†çŠ¶æ€æŸ¥è¯¢å‘½ä»¤
# ä½¿ç”¨æ–¹æ³•: memory-status

cd "/root/code/claude-memory-system"
source .venv/bin/activate

python3 -c "
import sys
sys.path.insert(0, '.')
from claude_memory import MemoryManager
from pathlib import Path

try:
    memory = MemoryManager(Path('..'))
    snapshot = memory.awaken('çŠ¶æ€æŸ¥è¯¢')
    stats = snapshot.memory_statistics
    
    print('ğŸ§  è®°å¿†ç³»ç»ŸçŠ¶æ€')
    print('=' * 30)
    print(f'ğŸ“Š æ€»è®°å¿†æ•°: {stats.total_memories}')
    print(f'ğŸ“ˆ ç±»å‹åˆ†å¸ƒ:')
    print(f'   â€¢ semantic: {stats.semantic_count}')
    print(f'   â€¢ episodic: {stats.episodic_count}')
    print(f'   â€¢ procedural: {stats.procedural_count}')
    print(f'   â€¢ working: {stats.working_count}')
    print(f'â­ å¹³å‡é‡è¦æ€§: {stats.avg_importance:.1f}/10')
    print(f'ğŸ”— å…³ç³»æ€»æ•°: {stats.total_relations}')
    print(f'ğŸ“ˆ å¥åº·è¯„åˆ†: {stats.memory_health_score:.1f}/10')
    print(f'ğŸ“ å­˜å‚¨è·¯å¾„: {Path(\"..\").resolve()}')
    print('âœ… ç³»ç»ŸçŠ¶æ€: æ­£å¸¸')
    
except Exception as e:
    print(f'âŒ çŠ¶æ€æŸ¥è¯¢å¤±è´¥: {e}')
    exit(1)
"